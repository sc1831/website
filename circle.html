<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<style>
*{margin:0;padding:0;}
div{width:400px;height:400px;border:1px solid #000;position:relative;margin:150px auto;border-radius:50%;}
span{width:100px;height:100px;background:red;position:absolute;left:50%;top:0;margin-left:-50px;margin-top:-50px;border-radius:50%;}
</style>
<script>
window.onload=function(){
	var oDiv=document.getElementById('div1');
	var R=oDiv.offsetWidth/2;
	var total=4;
	var aSpan=[];
	for(var i=0;i<total;i++){
		var oSpan=document.createElement('span');
		oDiv.appendChild(oSpan);
		aSpan.push(oSpan);
	}
	var m=0;
	document.onclick=function()
	{	
		if(m%2==0)
		{
			for(var i=0;i<aSpan.length;i++)
			{
				var target=i/total*360;
				move(aSpan[i],target);
			}
		}
		else
		{
			for(var i=0;i<aSpan.length;i++)
			{
				move(aSpan[i],0);
			}
		}
		m++;
	};	
	
	
	function move(obj,target)
	{
		
		var start=obj.a || 0;
		var dis=target-start;
		var count=Math.floor(1000/30);
		var n=0
		clearInterval(obj.timer);
		obj.timer=setInterval(function(){
			n++;
			var a=start+dis*n/count;
			var x=R+R*Math.sin(a2d(a));
			var y=R-R*Math.cos(a2d(a));
			obj.style.left=x+'px';
			obj.style.top=y+'px';
		
			if(n==count)
			{
				clearInterval(obj.timer);
				obj.a=a;
			}	
		},30);
		
	}
};
function a2d(a){
	return a*Math.PI/180;	
}
</script>
</head>

<body>
	<div id="div1"></div>
</body>
</html>
